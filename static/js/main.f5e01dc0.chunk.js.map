{"version":3,"sources":["Context/UserContext.js","Context/AccessContext.js","Components/Pages/Landing/components/signUpForm.js","Components/Pages/Landing/components/signInForm.js","Components/Pages/Landing/AuthLanding.js","Components/shared/Header/Header.js","Components/shared/Layout.js","Components/shared/CreatePostDialog.js","Components/shared/CreateCommentDialog.js","Components/shared/CommentAccordion.js","Components/shared/postCard.js","Components/Pages/Dashboard/components/dashTimeline.js","Components/Pages/Dashboard/dashboard.js","Components/shared/timeline.js","Components/shared/friendButton.js","Components/Pages/Profile/components/EditProfileDialog.js","Components/Pages/Profile/components/userCard.js","Components/Pages/Profile/Profile.js","Components/Pages/UserIndex/components/UserIndexCard.js","Components/Pages/UserIndex/UserIndex.js","App.js","serviceWorker.js","index.js"],"names":["UserContext","createContext","user","setUser","AccessContext","accessToken","setAccessToken","useStyles","makeStyles","signInContainer","textAlign","padding","margin","MyTextField","placeholder","type","props","useField","field","meta","errorText","error","touched","TextField","helperText","variant","label","validationSchema","yup","first_name","required","max","last_name","email","password","matches","userurl","lowercase","passwordConfirm","oneOf","SignUpForm","classes","url","data","a","fetch","method","mode","credentials","headers","body","JSON","stringify","json","then","console","log","catch","err","Box","className","initialValues","onSubmit","setSubmitting","resetForm","handleSubmit","handleDialogClose","isSubmitting","Typography","name","Button","disabled","display","flexDirection","justifyContent","width","SignInForm","history","useHistory","useContext","useState","signUpOpen","setSignUpOpen","values","currUser","Object","entries","token","push","color","onClick","Dialog","fullWidth","open","onClose","AuthLanding","paddingTop","Paper","elevation","HeaderComponent","React","anchorEl","setAnchorEl","handleClose","AppBar","position","Toolbar","IconButton","edge","aria-label","e","currentTarget","Menu","id","keepMounted","Boolean","MenuItem","component","Link","to","children","document","cookie","title","Layout","Header","multiline","message","min","trim","CreatePostDialog","setOpen","Authorization","setRefreshInfo","refreshInfo","userId","_id","DialogContent","DialogActions","interactionButton","CreateCommentDialog","fontSize","postComments","length","author","postId","theme","root","heading","typography","pxToRem","fontWeight","fontWeightRegular","list","listItem","avatarHover","cursor","SimpleExpansionPanel","commentsArr","setCommentsArr","handleDelete","commentId","res","useEffect","comments","getComments","ExpansionPanel","ExpansionPanelSummary","expandIcon","aria-controls","Divider","ExpansionPanelDetails","map","comment","i","List","ListItem","ListItemAvatar","Avatar","src","profileImgUrl","ListItemText","primary","secondary","authUserComments","includes","isAuthUserComment","postComponentStyles","marginBottom","border","avatarSmall","height","marginRight","posterInfo","alignItems","borderBottom","postInteractions","avatarContainer","PostCard","setDeletedPosts","deletedPosts","handleLike","setLikes","Card","postProfileUrl","profilePic","alt","firstName","lastName","paragraph","post","postLikes","postAuthorId","CommentAccordion","timelineContainer","overflow","paddingBottom","timelinePaper","backgroundColor","paddingLeft","DashTimeline","postsArr","posts","Container","maxWidth","paddingY","key","likes","reverse","DashboardComponent","setPosts","getPosts","Timeline","FriendButton","handleAddClick","profileUser","authUser","handleAcceptClick","handleUnfriendClick","current","pendIn","pendOut","container","img","refresh","imageData","FormData","append","setRefresh","EditProfileDialog","selection","setSelection","align","FormLabel","form","htmlFor","Input","onChange","image","target","files","userCard","marginTop","infoBox","fullName","alignSelf","ageLocation","avatarPic","friendButton","UserCard","handleEditProfileClose","friendsCurrent","friendsPendIn","friendsPendOut","age","city","state","currAge","currCity","currState","ProfileComponent","useParams","profileInfo","setProfileInfo","isLoading","setIsLoading","authId","result","getProfileInfo","undefined","disableGutters","friends","cardStyles","UserIndexCard","profileUrl","setPageUpdates","pageUpdates","UserIndexContainer","UserIndex","users","setUsers","getAllUsers","Grid","sm","spacing","justify","selected","item","App","checkLoggedIn","Provider","value","path","render","exact","window","location","hostname","match","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f5e01dc0.chunk.js","sourcesContent":["import { createContext } from \"react\";\n\nexport const UserContext = createContext({\n  user: null,\n  setUser: () => {},\n});\n","import { createContext } from \"react\";\n\nexport const AccessContext = createContext({\n  accessToken: null,\n  setAccessToken: () => {},\n});\n","import React, { useState } from \"react\";\n\nimport {\n  TextField,\n  Button,\n  Box,\n  makeStyles,\n  Typography,\n} from \"@material-ui/core\";\nimport { Formik, useField, Form } from \"formik\";\nimport { useHistory } from \"react-router-dom\";\nimport * as yup from \"yup\";\n\nconst useStyles = makeStyles({\n  signInContainer: {\n    textAlign: \"center\",\n    \"& Form\": {\n      padding: \"1rem\",\n      \"& div\": {\n        margin: \"0.5rem auto\",\n      },\n    },\n  },\n});\n\n//define MyTextField as a modified material-ui component to work with Formik *DRY\nconst MyTextField = ({ placeholder, type, ...props }) => {\n  const [field, meta] = useField(props);\n  const errorText = meta.error && meta.touched ? meta.error : \"\";\n  return (\n    <TextField\n      {...field}\n      type={type}\n      helperText={errorText}\n      error={!!errorText}\n      variant=\"outlined\"\n      label={placeholder}\n    />\n  );\n};\n\n//Give yup some guidelines to validate form inputs\nconst validationSchema = yup.object({\n  first_name: yup.string().required().max(35),\n  last_name: yup.string().required().max(35),\n  email: yup.string().required().email(\"Please enter a valid email\"),\n  password: yup\n    .string()\n    .required()\n    .matches(\n      /^[a-zA-Z0-9_\\-]{4,}$/m,\n      \"Must be atleast 4 characters, alphanumeric.\"\n    ),\n  userurl: yup\n    .string()\n    .required()\n    .lowercase()\n    .matches(/^[a-zA-Z_\\-]{5,}$/m, \"Must be atleast 5 characters, letters\"),\n  passwordConfirm: yup\n    .string()\n    .required()\n    .oneOf([yup.ref('password'), null], \"Passwords must match\")\n});\n\n\nconst SignUpForm = (props) => {\n  const classes = useStyles();\n    //define the fetch request (returns a Promise/Response) as 'response'\n  async function handleSubmit(url, data) {\n    const response = await fetch(url, {\n      method: \"POST\",\n      mode: \"cors\",\n      credentials: \"include\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(data),\n    });\n      //call response, then, handle promise resolve/rejection\n    response\n      .json()\n      .then((data) => {\n        console.log(data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  return (\n    <Box className={classes.signInContainer}>\n      <Formik\n        initialValues={{\n          first_name: \"\",\n          last_name: \"\",\n          email: \"\",\n          password: \"\",\n          passwordConfirm: \"\",\n          userurl: \"\",\n        }}\n        validationSchema={validationSchema}\n        onSubmit={(data, { setSubmitting, resetForm }) => {\n          setSubmitting(true);\n          handleSubmit(\n            \"https://bookface-auth.herokuapp.com/userauth/signup\",\n            data\n          );\n          resetForm();\n          setSubmitting(false);\n          props.handleDialogClose();\n        }}\n      >\n        {({ isSubmitting }) => (\n          <Box>\n            <Typography variant=\"h6\">Sign Up</Typography>\n            <Form>\n            <div>\n              <MyTextField\n                placeholder=\"First Name..\"\n                name=\"first_name\"\n                type=\"text\"\n              />\n              </div>\n              <div>\n                <MyTextField\n                  placeholder=\"Last Name..\"\n                  name=\"last_name\"\n                  type=\"text\"\n                />\n              </div>\n              <div>\n                <MyTextField placeholder=\"E-mail..\" name=\"email\" type=\"email\" />\n              </div>\n              <div>\n                <MyTextField\n                  placeholder=\"Password..\"\n                  name=\"password\"\n                  type=\"password\"\n                />\n              </div>\n              <div>\n                <MyTextField\n                  placeholder=\"Confirm Password..\"\n                  name=\"passwordConfirm\"\n                  type=\"password\"\n                />\n              </div>\n              <div>\n                <MyTextField\n                  placeholder=\"Profile Url\"\n                  name=\"userurl\"\n                  type=\"text\"\n                />\n              </div>\n              <div>\n                <Button disabled={isSubmitting} type=\"submit\">\n                  Create Account\n                </Button>\n              </div>\n            </Form>\n          </Box>\n        )}\n      </Formik>\n    </Box>\n  );\n};\n\nexport default SignUpForm;\n","import React, { useContext, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { TextField, Button, Box, makeStyles, Dialog } from \"@material-ui/core\";\nimport { Formik, useField, Form } from \"formik\";\nimport * as yup from \"yup\";\nimport { UserContext } from \"../../../../Context/UserContext\";\nimport { AccessContext } from \"../../../../Context/AccessContext\";\nimport SignUpForm from \"./signUpForm\";\n\nconst useStyles = makeStyles({\n  signInContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    width: \"20rem\",\n    textAlign: \"center\",\n    \"& Form\": {\n      padding: \"1rem\",\n      \"& div\": {\n        margin: \"0.5rem auto\",\n      },\n    },\n  },\n});\n\n//define MyTextField as a modified material-ui component to work with Formik *DRY\nconst MyTextField = ({ placeholder, type, ...props }) => {\n  const [field, meta] = useField(props);\n  const errorText = meta.error && meta.touched ? meta.error : \"\";\n  return (\n    <TextField\n      {...field}\n      type={type}\n      helperText={errorText}\n      error={!!errorText}\n      variant=\"outlined\"\n      label={placeholder}\n    />\n  );\n};\n//give yup some guidelines to validate form inputs\nconst validationSchema = yup.object({\n  email: yup.string().required().email(\"Must be a valid e-mail\"),\n  password: yup.string().required(),\n});\n\nconst SignInForm = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  const { setUser } = useContext(UserContext);\n  const { setAccessToken } = useContext(AccessContext);\n  const [signUpOpen, setSignUpOpen] = useState(false);\n\n  const handleDialogOpen = () => {\n    setSignUpOpen(true);\n  };\n\n  const handleDialogClose = () => {\n    setSignUpOpen(false);\n  };\n\n  async function handleSubmit(url, values) {\n    //define the fetch request (returns a Promise/Response) as 'response'\n    const response = await fetch(url, {\n      method: \"POST\",\n      mode: \"cors\",\n      credentials: \"include\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(values),\n    });\n    //call response, then, handle promise resolve/rejection\n    response\n      .json()\n      .then((data) => {\n        //extract user object from response\n        //extract access token from response\n        //after user and accessToken are defined, go to dashboard\n        let currUser = Object.entries(data.user)[0][1];\n        setUser(currUser);\n        setAccessToken(data.token);\n        history.push(\"/dashboard\");\n      })\n      .catch((error) => {\n        return console.error(error);\n      });\n  }\n\n  return (\n    <Box className={classes.signInContainer}>\n      <h1>Sign in</h1>\n      <Formik\n        initialValues={{\n          email: \"\",\n          password: \"\",\n        }}\n        validationSchema={validationSchema}\n        onSubmit={(data, { setSubmitting, resetForm }) => {\n          setSubmitting(true);\n          handleSubmit(\n            \"https://bookface-auth.herokuapp.com/userauth/login\",\n            data\n          );\n          resetForm();\n          setSubmitting(false);\n        }}\n      >\n        {({ isSubmitting }) => (\n          <Box>\n            <Form>\n              <div>\n                <MyTextField placeholder=\"E-mail..\" name=\"email\" type=\"email\" />\n              </div>\n              <div>\n                <MyTextField\n                  placeholder=\"Password..\"\n                  name=\"password\"\n                  type=\"password\"\n                />\n              </div>\n              <Button\n                color=\"primary\"\n                variant=\"contained\"\n                disabled={isSubmitting}\n                type=\"submit\"\n              >\n                submit\n              </Button>\n            </Form>\n          </Box>\n        )}\n      </Formik>\n      <Box textAlign=\"right\">\n        <Button onClick={handleDialogOpen} color=\"primary\" variant=\"text\">\n          Sign Up!\n        </Button>\n      </Box>\n      <Dialog fullWidth open={signUpOpen} onClose={handleDialogClose}>\n        <SignUpForm handleDialogClose={handleDialogClose} />\n      </Dialog>\n    </Box>\n  );\n};\n\nexport default SignInForm;\n","import React from \"react\";\nimport SignInForm from \"./components/signInForm\";\nimport { Paper, Box } from \"@material-ui/core\";\n\n\nconst AuthLanding = () => {\n\n    return (\n      <Box paddingTop=\"2rem\" display=\"flex\" justifyContent=\"center\">\n        <Paper elevation={5}>\n        <SignInForm />\n        </Paper>\n      </Box>\n    );\n  }\n\nexport default AuthLanding;\n","import React, { useContext } from \"react\";\n\nimport {\n  AppBar,\n  Toolbar,\n  Menu,\n  IconButton,\n  Typography,\n  MenuItem,\n} from \"@material-ui/core\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport { Link } from \"react-router-dom\";\nimport { UserContext } from \"../../../Context/UserContext\";\nimport { AccessContext } from \"../../../Context/AccessContext\";\n\nconst HeaderComponent = () => {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const { user, setUser } = useContext(UserContext);\n  const { setAccessToken } = useContext(AccessContext);\n\n  const clickHandler = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleLogout = () => {\n    //remove loggedIn cookie then set user to null and expire accessToken\n    document.cookie =\n      \"loggedIn=true; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";\n    setAccessToken(null);\n    setUser(null);\n    handleClose();\n  };\n\n  return (\n    <AppBar position=\"static\">\n      <Toolbar>\n        {/* Render menu if user logged in */}\n        {user ? (\n          <>\n            <IconButton\n              edge=\"start\"\n              className=\"navMenuButton\"\n              color=\"inherit\"\n              aria-label=\"menu\"\n              onClick={(e) => clickHandler(e)}\n            >\n              <MenuIcon />\n            </IconButton>\n            <Menu\n              id=\"simple-menu\"\n              anchorEl={anchorEl}\n              keepMounted\n              open={Boolean(anchorEl)}\n              onClose={handleClose}\n            >\n              <MenuItem\n                color=\"textPrimary\"\n                component={Link}\n                to=\"/dashboard\"\n                onClick={handleClose}\n              >\n                Timeline\n              </MenuItem>\n              <MenuItem\n                color=\"textPrimary\"\n                component={Link}\n                to={\"/userIndex\"}\n                onClick={handleClose}\n              >\n                User List\n              </MenuItem>\n              <MenuItem\n                color=\"textPrimary\"\n                component={Link}\n                children={Link}\n                to={`/profile/${user.userurl}`}\n                onClick={handleClose}\n              >\n                My Profile\n              </MenuItem>\n              <MenuItem\n                color=\"textPrimary\"\n                component={Link}\n                to={`/profile/${user.first_name}${user.last_name}/edit`}\n                onClick={handleClose}\n              >\n                Edit Profile\n              </MenuItem>\n              <MenuItem\n                color=\"textPrimary\"\n                component={Link}\n                onClick={handleLogout}\n              >\n                Logout\n              </MenuItem>\n            </Menu>\n          </>\n        ) : null}\n        <Typography variant=\"h6\" color=\"inherit\">\n          {document.title}\n        </Typography>\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nexport default HeaderComponent;\n","import React from \"react\";\n\nimport HeaderComponent from \"./Header/Header\";\n\nconst Layout = () => {\n  return (\n    <div>\n      <HeaderComponent />\n    </div>\n  );\n};\n\nexport default Layout;\n","import React, { useState, useContext } from \"react\";\nimport {\n  TextField,\n  Dialog,\n  Button,\n  Box,\n  DialogContent,\n  DialogActions,\n} from \"@material-ui/core\";\nimport { Form, useField, Formik } from \"formik\";\nimport * as yup from \"yup\";\nimport { UserContext } from \"../../Context/UserContext\";\nimport { AccessContext } from \"../../Context/AccessContext\";\n//define MyTextField as a modified material-ui component to work with Formik *DRY\nconst MyTextField = ({ placeholder, type, label, multiline, ...props }) => {\n  const [field, meta] = useField(props);\n  const errorText = meta.error && meta.touched ? meta.error : \"\";\n  return (\n    <TextField\n      {...field}\n      type={type}\n      helperText={errorText}\n      error={!!errorText}\n      variant=\"outlined\"\n      placeholder={placeholder}\n      label={label}\n      multiline={multiline}\n    />\n  );\n};\n//give yup some guidelines to validate form inputs\nconst validationSchema = yup.object({\n  message: yup\n    .string()\n    .required(\"Post cannot be empty.\")\n    .min(5, \"Post must be atleast 5 characters.\")\n    .trim(),\n});\n\nconst CreatePostDialog = (props) => {\n  const [open, setOpen] = useState(false);\n  const { user } = useContext(UserContext);\n  const { accessToken } = useContext(AccessContext);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleSubmit = async (url, values) => {\n    //define the fetch request (returns a Promise/Response) as 'response'\n    const response = await fetch(url, {\n      method: \"POST\",\n      mode: \"cors\",\n      credentials: \"include\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${accessToken}`,\n      },\n      body: JSON.stringify(values),\n    });\n    //call response, then, handle promise resolve/rejection\n    response.json().then((data) => {\n      console.log(data);\n      handleClose();\n      //setState to reload components\n      props.setRefreshInfo(props.refreshInfo + 1);\n    });\n  };\n\n  return (\n    <Box>\n      <Button variant=\"contained\" color=\"primary\" onClick={handleClickOpen}>\n        Create new post\n      </Button>\n      <Dialog open={open} onClose={handleClose}>\n        <Formik\n          initialValues={{\n            message: \"\",\n            userId: user._id,\n          }}\n          validationSchema={validationSchema}\n          onSubmit={(data, { setSubmitting, resetForm }) => {\n            setSubmitting(true);\n            handleSubmit(\n              \"https://bookymcbookface.herokuapp.com/posts/create\",\n              data\n            );\n            resetForm();\n            setSubmitting(false);\n          }}\n        >\n          {({ isSubmitting }) => (\n            <>\n              <Form>\n                <DialogContent>\n                  <MyTextField\n                    placeholder=\"What's goin' on?\"\n                    name=\"message\"\n                    multiline={true}\n                  />\n                </DialogContent>\n                <DialogActions>\n                  <Button onClick={handleClose} color=\"primary\">\n                    Cancel\n                  </Button>\n                  <Button color=\"primary\" disabled={isSubmitting} type=\"submit\">\n                    Post\n                  </Button>\n                </DialogActions>\n              </Form>\n            </>\n          )}\n        </Formik>\n      </Dialog>\n    </Box>\n  );\n};\n\nexport default CreatePostDialog;\n","import React, { useState, useContext } from \"react\";\nimport {\n  TextField,\n  Dialog,\n  Button,\n  DialogContent,\n  DialogActions,\n  IconButton,\n  makeStyles,\n} from \"@material-ui/core\";\nimport ChatBubbleIcon from \"@material-ui/icons/ChatBubble\";\nimport { Form, useField, Formik } from \"formik\";\nimport * as yup from \"yup\";\nimport { UserContext } from \"../../Context/UserContext\";\nimport { AccessContext } from \"../../Context/AccessContext\";\n\n//create css for this component\nconst useStyles = makeStyles({\n  interactionButton: {\n    padding: \"0\",\n    margin: \"0\",\n  },\n});\n//define MyTextField as a modified material-ui component to work with Formik *DRY\nconst MyTextField = ({ placeholder, type, label, multiline, ...props }) => {\n  const [field, meta] = useField(props);\n  const errorText = meta.error && meta.touched ? meta.error : \"\";\n  return (\n    <TextField\n      {...field}\n      type={type}\n      helperText={errorText}\n      error={!!errorText}\n      variant=\"outlined\"\n      placeholder={placeholder}\n      label={label}\n      multiline={multiline}\n    />\n  );\n};\n//give yup some guidelines to validate form inputs\nconst validationSchema = yup.object({\n  message: yup.string().required(\"Comment cannot be empty.\").trim(),\n});\n\nconst CreateCommentDialog = (props) => {\n  const [open, setOpen] = useState(false);\n  const { user } = useContext(UserContext);\n  const { accessToken } = useContext(AccessContext);\n  const classes = useStyles();\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleSubmit = async (url, values) => {\n    //define the fetch request (returns a Promise/Response) as 'response'\n    const response = await fetch(url, {\n      method: \"POST\",\n      mode: \"cors\",\n      credentials: \"include\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${accessToken}`,\n      },\n      body: JSON.stringify(values),\n    });\n    //call response, then, handle promise resolve/rejection\n    response\n      .json()\n      .then((data) => {\n        console.log(data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  return (\n    <>\n      <IconButton\n        className={classes.interactionButton}\n        onClick={handleClickOpen}\n      >\n        <ChatBubbleIcon fontSize=\"small\" />\n        {/* display number of comments next to icon */}\n        {props.postComments.length}\n      </IconButton>\n      <Dialog open={open} onClose={handleClose}>\n        <Formik\n          initialValues={{\n            author: `${user._id}`,\n            message: \"\",\n          }}\n          validationSchema={validationSchema}\n          onSubmit={(data, { setSubmitting, resetForm }) => {\n            setSubmitting(true);\n            handleSubmit(\n              `https://bookymcbookface.herokuapp.com/comments/${props.postId}`,\n              data\n            );\n            resetForm();\n            setSubmitting(false);\n            handleClose();\n            //setState to reload components after deletion\n            props.setRefreshInfo(props.refreshInfo + 1);\n          }}\n        >\n          {({ isSubmitting }) => (\n            <>\n              <Form>\n                <DialogContent>\n                  <MyTextField\n                    placeholder=\"Type your comment..\"\n                    name=\"message\"\n                    multiline={true}\n                  />\n                </DialogContent>\n                <DialogActions>\n                  <Button onClick={handleClose} color=\"primary\">\n                    Cancel\n                  </Button>\n                  <Button color=\"primary\" disabled={isSubmitting} type=\"submit\">\n                    Post\n                  </Button>\n                </DialogActions>\n              </Form>\n            </>\n          )}\n        </Formik>\n      </Dialog>\n    </>\n  );\n};\n\nexport default CreateCommentDialog;\n","import React, { useEffect, useState, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport ExpansionPanel from \"@material-ui/core/ExpansionPanel\";\nimport ExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\";\nimport ExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\";\nimport Typography from \"@material-ui/core/Typography\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\nimport {\n  List,\n  ListItem,\n  ListItemAvatar,\n  ListItemText,\n  Avatar,\n  Divider,\n  Box,\n  IconButton,\n} from \"@material-ui/core\";\n\nimport { UserContext } from \"../../Context/UserContext\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\n//create css for this component\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular,\n  },\n  list: {\n    display: \"inline\",\n    width: \"100%\",\n  },\n  listItem: {\n    margin: \"2px 0\",\n  },\n  avatarHover: {\n    cursor: \"pointer\",\n  },\n}));\n\n//comment accordion\nfunction SimpleExpansionPanel(props) {\n  const classes = useStyles();\n  const [commentsArr, setCommentsArr] = useState([]);\n  const history = useHistory();\n  const { user } = useContext(UserContext);\n\n  const handleDelete = async (commentId) => {\n    //define the fetch request (returns a Promise/Response) as 'response'\n    const response = await fetch(\n      `https://bookymcbookface.herokuapp.com/comments/${props.postId}/${commentId}`,\n      {\n        method: \"DELETE\",\n        mode: \"cors\",\n        credentials: \"include\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${props.token}`,\n        },\n      }\n    );\n    //call response, then, handle promise resolve/rejection\n      //setState to reload components after deletion\n    response.json().then((res) => {\n        props.setRefreshInfo(props.refreshInfo + 1);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  //look for the Comment Id inside of the authenticated user's list of comments\n  const isAuthUserComment = (commentId, authUserComments) => {\n    if (authUserComments.includes(commentId)) {\n      return (\n        <IconButton onClick={() => handleDelete(commentId)}>\n          <DeleteForeverIcon />\n        </IconButton>\n      );\n    }\n  };\n  //runs on component load or when there are changes to dependencies\n  useEffect(() => {\n    const getComments = async (postId, token) => {\n    //define the fetch request (returns a Promise/Response) as 'response'\n      const response = await fetch(\n        `https://bookymcbookface.herokuapp.com/comments/${postId}`,\n        {\n          method: \"GET\",\n          mode: \"cors\",\n          credentials: \"include\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n      //call response, then, handle promise resolve/rejection\n      response.json().then((res) => {\n        setCommentsArr(res.comments);\n      });\n    };\n    getComments(props.postId, props.token);\n  }, [props.postId, props.token, props.refreshInfo]);\n\n  return (\n    <div className={classes.root}>\n      <ExpansionPanel elevation={2}>\n        <ExpansionPanelSummary\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel1a-content\"\n          id=\"panel1a-header\"\n        >\n          <Typography className={classes.heading}>Comments</Typography>\n        </ExpansionPanelSummary>\n        <Divider />\n        <ExpansionPanelDetails className={classes.list}>\n          {/* create a list containing every comment in the array */}\n          {commentsArr.map((comment, i) => (\n            <List className={classes.list}>\n              <ListItem className={classes.listItem}>\n                <Box\n                  className={classes.avatarHover}\n                  onClick={() =>\n                  // go to author's profile page\n                    history.push(`/profile/${comment.author.userurl}`)\n                  }\n                >\n                  <ListItemAvatar>\n                    <Avatar src={comment.author.profileImgUrl} />\n                  </ListItemAvatar>\n                </Box>\n                <ListItemText\n                  primary={\n                    <Typography variant=\"caption\">{`${comment.author.first_name} ${comment.author.last_name}`}</Typography>\n                  }\n                  secondary={\n                    <Typography variant=\"body1\">{comment.message}</Typography>\n                  }\n                />\n                {isAuthUserComment(comment._id, user.comments)}\n              </ListItem>\n              {/* render divider unless this is the last comment. */}\n              {i !== commentsArr.length - 1 ? (\n                <Divider variant=\"middle\" />\n              ) : null}\n            </List>\n          ))}\n        </ExpansionPanelDetails>\n      </ExpansionPanel>\n    </div>\n  );\n}\n\nexport default SimpleExpansionPanel;\n","import React, { useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport {\n  Box,\n  Card,\n  Divider,\n  Typography,\n  makeStyles,\n  Avatar,\n  IconButton,\n} from \"@material-ui/core\";\nimport ThumbUpIcon from \"@material-ui/icons/ThumbUp\";\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\n\nimport { UserContext } from \"../../Context/UserContext\";\nimport { AccessContext } from \"../../Context/AccessContext\";\n\nimport CreateCommentDialog from \"../shared/CreateCommentDialog\";\nimport CommentAccordion from \"./CommentAccordion\";\n//create css for this component\nconst useStyles = makeStyles({\n  postComponentStyles: {\n    width: \"95%\",\n    marginBottom: \"3rem\",\n    border: \"1px solid black\",\n  },\n  avatarSmall: {\n    height: \"40px\",\n    width: \"40px\",\n    marginRight: \"1rem\",\n  },\n  posterInfo: {\n    display: \"flex\",\n    alignItems: \"center\",\n    borderBottom: \"1px solid black\",\n  },\n  postInteractions: {\n    display: \"flex\",\n    justifyContent: \"end\",\n  },\n  interactionButton: {\n    padding: 0,\n    margin: \"0 1rem\",\n  },\n  avatarContainer: {\n    cursor: \"pointer\",\n  },\n});\n\nconst PostCard = (props) => {\n  const { user } = useContext(UserContext);\n  const { accessToken } = useContext(AccessContext);\n  const history = useHistory();\n  const classes = useStyles();\n\n  const handleDelete = async (postId) => {\n    //define the fetch request (returns a Promise/Response) as 'response'\n    const response = await fetch(\n      `https://bookymcbookface.herokuapp.com/posts/${postId}/${user._id}`,\n      {\n        method: \"DELETE\",\n        mode: \"cors\",\n        credentials: \"include\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${accessToken}`,\n        },\n      }\n    );\n    //call response, then, handle promise resolve/rejection\n    response.json().then((res) => {\n      props.setDeletedPosts((deletedPosts) => [...deletedPosts, res]);\n      return console.log(res);\n    });\n  };\n\n  const handleLike = async (postId, userId) => {\n    //define the fetch request (returns a Promise/Response) as 'response'\n    const response = await fetch(\n      \"https://bookymcbookface.herokuapp.com/likes\",\n      {\n        method: \"POST\",\n        mode: \"cors\",\n        credentials: \"include\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${accessToken}`,\n        },\n        body: JSON.stringify({\n          postId,\n          userId,\n        }),\n      }\n    );\n    //call response, then, handle promise resolve/rejection\n    response.json().then((res) => {\n      props.setLikes(res);\n      console.log(res);\n    });\n  };\n  //if this is authenticated user's post, render delete button.\n  const isAuthUsersPost = () => {\n    if (user._id === props.postAuthorId) {\n      return (\n        <IconButton\n          onClick={() => handleDelete(props.postId)}\n          className={classes.interactionButton}\n        >\n          <DeleteForeverIcon fontSize=\"small\" />\n        </IconButton>\n      );\n    } else {\n      return null;\n    }\n  };\n\n  return (\n    <Card className={classes.postComponentStyles} elevation={5}>\n      <Box className={classes.posterInfo}>\n        <Box\n          onClick={() => history.push(`/profile/${props.postProfileUrl}`)}\n          className={classes.avatarContainer}\n        >\n          <Avatar\n            className={classes.avatarSmall}\n            src={props.profilePic}\n            alt={`${props.firstName} ${props.lastName}`}\n          ></Avatar>\n        </Box>\n        <Typography variant=\"overline\">\n          {props.firstName} {props.lastName}\n        </Typography>\n      </Box>\n      {/* <Divider /> */}\n      <Box padding={1}>\n        <Typography variant=\"body1\" paragraph>\n          {props.post}\n        </Typography>\n        <Divider />\n        <Box className={classes.postInteractions}>\n          <CreateCommentDialog\n            postComments={props.postComments}\n            postId={props.postId}\n            refreshInfo={props.refreshInfo}\n            setRefreshInfo={props.setRefreshInfo}\n          />\n          <IconButton\n            onClick={() => handleLike(props.postId, user._id)}\n            className={classes.interactionButton}\n          >\n            <ThumbUpIcon fontSize=\"small\" />\n            {props.postLikes.length}\n          </IconButton>\n          {isAuthUsersPost()}\n        </Box>\n        <CommentAccordion\n          postId={props.postId}\n          token={accessToken}\n          refreshInfo={props.refreshInfo}\n          setRefreshInfo={props.setRefreshInfo}\n        />\n      </Box>\n    </Card>\n  );\n};\n\nexport default PostCard;\n","import React from \"react\";\n\nimport { Container, Paper, makeStyles, Divider, Box } from \"@material-ui/core\";\nimport PostCard from \"../../../shared/postCard\";\n\n//create css for this component\nconst useStyles = makeStyles({\n  timelineContainer: {\n    overflow: \"auto\",\n    paddingBottom: \"1rem\",\n    paddingTop: \"1rem\",\n  },\n\n  timelinePaper: {\n    backgroundColor: \"#ffffffbf\",\n  },\n  title: {\n    paddingLeft: \"1rem\",\n  },\n});\n\nconst DashTimeline = (props) => {\n  //postsArr is brought in with props from api call within dashboard component\n  const postsArr = props.posts;\n  const classes = useStyles();\n\n  return (\n    <Container className={classes.timelineContainer} maxWidth=\"md\">\n      <Paper className={classes.timelinePaper} elevation={15}>\n        <Divider />\n        <Box\n          paddingY={3}\n          display=\"flex\"\n          flexDirection=\"column\"\n          alignItems=\"center\"\n        >\n          {postsArr\n            .map((post, i) => (\n              <PostCard\n                key={`${post.author.first_name}_${post.author.last_name}_${post.author._id}_${i}`}\n                firstName={post.author.first_name}\n                lastName={post.author.last_name}\n                profilePic={post.author.profileImgUrl}\n                postAuthorId={post.author._id}\n                postProfileUrl={post.author.userurl}\n                postId={post._id}\n                post={post.message}\n                postLikes={post.likes}\n                postComments={post.comments}\n                setDeletedPosts={props.setDeletedPosts}\n                setLikes={props.setLikes}\n                refreshInfo={props.refreshInfo}\n                setRefreshInfo={props.setRefreshInfo}\n              />\n            ))\n            .reverse()}\n        </Box>\n      </Paper>\n    </Container>\n  );\n};\n\nexport default DashTimeline;\n","import React, { useContext, useState, useEffect } from \"react\";\nimport { Container, Box, Paper, Typography } from \"@material-ui/core\";\nimport CreatePostDialog from \"../../shared/CreatePostDialog\";\nimport DashTimeline from \"../Dashboard/components/dashTimeline\";\nimport { UserContext } from \"../../../Context/UserContext\";\nimport { AccessContext } from \"../../../Context/AccessContext\";\n\nexport default function DashboardComponent() {\n  const { user } = useContext(UserContext);\n  const { accessToken } = useContext(AccessContext);\n\n  const [posts, setPosts] = useState();\n  const [likes, setLikes] = useState([]);\n  const [deletedPosts, setDeletedPosts] = useState([]);\n  const [refreshInfo, setRefreshInfo] = useState(0);\n\n  useEffect(() => {\n    //define function\n    async function getPosts(url) {\n      const response = await fetch(url, {\n        method: \"GET\",\n        mode: \"cors\",\n        credentials: \"include\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${accessToken}`,\n        },\n      });\n      response\n        .json()\n        .then((res) => {\n          setPosts(res.posts);\n        })\n        .catch((err) => {\n          console.error(err);\n        });\n    }\n\n    getPosts(`https://bookymcbookface.herokuapp.com/posts`);\n    //useEffect dependencies\n  }, [accessToken, deletedPosts, likes, refreshInfo]);\n\n  if (posts && posts.length > 0) {\n    return (\n      <Container>\n        <Box textAlign=\"center\">\n          <Typography variant=\"h6\">{`Hello, ${user.first_name}!`}</Typography>\n          <CreatePostDialog\n            refreshInfo={refreshInfo}\n            setRefreshInfo={setRefreshInfo}\n          />\n        </Box>\n        <DashTimeline\n          posts={posts}\n          deletedPosts={deletedPosts}\n          setDeletedPosts={setDeletedPosts}\n          setLikes={setLikes}\n          refreshInfo={refreshInfo}\n          setRefreshInfo={setRefreshInfo}\n        />\n      </Container>\n    );\n  } else {\n    return (\n      <Container>\n        <Box>{`Hello, ${user.first_name}!`}</Box>\n        <CreatePostDialog />\n        <Paper elevation={10}>\n          <Typography>Nothing to see here...</Typography>\n        </Paper>\n      </Container>\n    );\n  }\n}\n","import React from \"react\";\nimport {\n  Container,\n  makeStyles,\n  Box,\n  Paper,\n  Typography,\n  Divider,\n} from \"@material-ui/core\";\nimport PostCard from \"./postCard\";\n//create css for this component\nconst useStyles = makeStyles({\n  timelineContainer: {\n    overflow: \"auto\",\n    paddingBottom: \"3rem\",\n    paddingTop: \"1rem\",\n  },\n\n  timelinePaper: {\n    backgroundColor: \"#ffffffbf\",\n  },\n  title: {\n    paddingLeft: \"1rem\",\n  },\n});\n\nconst Timeline = (props) => {\n  const classes = useStyles();\n  const postsArr = props.posts;\n  return (\n    <Container className={classes.timelineContainer} maxWidth=\"md\">\n      <Paper className={classes.timelinePaper} elevation={15}>\n        <Typography className={classes.title} variant=\"overline\">\n          {props.firstName}'s Posts\n        </Typography>\n        <Divider />\n        <Box\n          paddingY={3}\n          display=\"flex\"\n          flexDirection=\"column\"\n          alignItems=\"center\"\n        >\n          {postsArr.map((post, i) => (\n            <PostCard\n              key={`${props.firstName}_${props.lastName}_${props.userId}_${i}`}\n              firstName={props.firstName}\n              lastName={props.lastName}\n              profilePic={props.profilePic}\n              postAuthorId={props.userId}\n              post={post.message}\n              postId={post._id}\n              deletedPosts={props.deletedPosts}\n              setDeletedPosts={props.setDeletedPosts}\n              postLikes={post.likes}\n              postComments={post.comments}\n              postProfileUrl={props.userurl}\n              likes={props.likes}\n              setLikes={props.setLikes}\n              refreshInfo={props.refreshInfo}\n              setRefreshInfo={props.setRefreshInfo}\n            />\n            //reverse the array so the posts are ordered most recent from top to bottom\n          )).reverse()}\n        </Box>\n      </Paper>\n    </Container>\n  );\n};\n\nexport default Timeline;\n","import React, { useContext } from \"react\";\nimport { Button, Typography } from \"@material-ui/core\";\n\nimport { AccessContext } from \"../../Context/AccessContext\";\n\nconst FriendButton = (props) => {\n  const { accessToken } = useContext(AccessContext);\n\n  const handleAddClick = async () => {\n    //define the fetch request (returns a Promise/Response) as 'response'\n    const response = await fetch(\"https://bookymcbookface.herokuapp.com/users/sendFriendReq\", {\n      method: \"POST\",\n      mode: \"cors\",\n      credentials: \"include\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${accessToken}`,\n      },\n      body: JSON.stringify({\n        profileUser: props.profileUser,\n        authUser: props.authUser,\n      })\n    })\n    //call response, then, handle promise resolve/rejection\n    response.json()\n    .then((res)=> {\n      console.log(res);\n    })\n    .catch((err)=> {\n      console.error(err);\n    })\n    //Change 'Add Friend' to a disafibled 'Requested' button\n  };\n\n  const handleAcceptClick = async () => {\n    //define the fetch request (returns a Promise/Response) as 'response'\n    const response = await fetch(\"https://bookymcbookface.herokuapp.com/users/acceptFriendReq\", {\n      method: \"POST\",\n      mode: \"cors\",\n      credentials: \"include\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${accessToken}`,\n      },\n      body: JSON.stringify({\n        profileUser: props.profileUser,\n        authUser: props.authUser,\n      })\n    })\n    //call response, then, handle promise resolve/rejection\n    response.json()\n    .then((res)=> {\n      console.log(res);\n    })\n    .catch((err)=> {\n      console.error(err);\n    })\n  };\n\n  const handleUnfriendClick = async () => {\n    const response = await fetch(\"https://bookymcbookface.herokuapp.com/users/unfriend\", {\n      method: \"POST\",\n      mode: \"cors\",\n      credentials: \"include\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${accessToken}`,\n      },\n      body: JSON.stringify({\n        profileUser: props.profileUser,\n        authUser: props.authUser,\n      })\n    })\n    response.json()\n    .then((res)=> {\n      console.log(res);\n    })\n    .catch((err)=> {\n      console.error(err);\n    })\n  };\n\n  //they are friends\n  if (props.current.includes(props.authUser)) {\n    return (\n      <Button onClick={handleUnfriendClick} variant=\"outlined\">\n        <Typography variant=\"caption\">Unfriend</Typography>\n      </Button>\n    );\n    //authUser has requested\n  } else if (props.pendIn.includes(props.authUser)) {\n    return (\n      <Button disabled variant=\"outlined\">\n        <Typography variant=\"caption\">Requested</Typography>\n      </Button>\n    );\n    //they have requested authUser\n  } else if (props.pendOut.includes(props.authUser)) {\n    return (\n      <Button onClick={handleAcceptClick} variant=\"outlined\">\n        <Typography variant=\"caption\">Accept Friend Request</Typography>\n      </Button>\n    );\n    //if profile page is not authUser's\n  } else if (props.profileUser !== props.authUser) {\n    return (\n      <Button onClick={handleAddClick} variant=\"outlined\">\n        <Typography variant=\"caption\">Add Friend</Typography>\n      </Button>\n    );\n  }\n  return null;\n};\n\nexport default FriendButton;\n","import React, { useContext, useState } from \"react\";\nimport {\n  FormLabel,\n  Button,\n  Input,\n  Box,\n  Container,\n  makeStyles,\n  Typography,\n  Divider,\n} from \"@material-ui/core\";\n\nimport { AccessContext } from \"../../../../Context/AccessContext\";\n//create css for this component\nconst useStyles = makeStyles({\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    width: \"min-width\",\n  },\n});\n\nasync function handleSubmit(url, img, token, refresh) {\n  //define imageData as FormData Object, append File (img) to imageData\n  const imageData = new FormData();\n  imageData.append(\"img\", img);\n  //define the fetch request (returns a Promise/Response) as 'response'\n  const response = await fetch(url, {\n    method: \"POST\",\n    mode: \"cors\",\n    credentials: \"include\",\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n    body: imageData,\n  });\n  //call response, then, handle promise resolve/rejection\n  response\n    .json()\n    .then((res) => {\n      //TODO add image uploaded msg\n      console.log(res);\n      console.log(\"end handleSubmit\");\n      //setState to reload components after deletion\n      refresh.setRefresh(refresh.refreshInfo + 1);\n    })\n    .catch((err) => console.log(\"Error\", err));\n}\n\nconst EditProfileDialog = (props) => {\n  let [selection, setSelection] = useState();\n  const { accessToken } = useContext(AccessContext);\n  const classes = useStyles();\n\n  const selectionChangeHandler = (image) => {\n    setSelection(image);\n  };\n\n  return (\n    <Container className={classes.container}>\n      <Typography variant=\"h6\" align=\"center\">\n        Upload Image\n      </Typography>\n      <Divider />\n      <Box margin=\"2rem auto\">\n        <FormLabel form=\"file\" htmlFor=\"file\">\n          Profile Picture\n        </FormLabel>\n        <div>\n          <Input\n            onChange={(e) => {\n              selectionChangeHandler(e.target.files[0]);\n            }}\n            type=\"file\"\n            name=\"file\"\n          />\n        </div>\n        <Button\n          onClick={() => {\n            handleSubmit(\n              \"https://bookymcbookface.herokuapp.com/upload/s3ImgUpload\",\n              selection,\n              accessToken,\n              //send both props inside an object to the 'refresh' parameter\n              {\n                setRefresh: props.setRefreshInfo,\n                refreshInfo: props.refreshInfo,\n              }\n            );\n            props.handleClose();\n          }}\n        >\n          Upload Photo\n        </Button>\n      </Box>\n    </Container>\n  );\n};\n\nexport default EditProfileDialog;","import React, { useState } from \"react\";\nimport {\n  Card,\n  Box,\n  Typography,\n  makeStyles,\n  Container,\n  Avatar,\n  Dialog,\n  Button,\n} from \"@material-ui/core\";\n\nimport RoomIcon from \"@material-ui/icons/Room\";\nimport CakeIcon from \"@material-ui/icons/Cake\";\nimport FriendButton from \"../../../shared/friendButton\";\nimport EditProfileDialog from \"./EditProfileDialog\";\n//create css for this component\nconst useStyles = makeStyles({\n  userCard: {\n    marginTop: \"1rem\",\n    display: \"flex\",\n  },\n  infoBox: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"space-between\",\n    width: \"100pc\",\n  },\n  fullName: {\n    alignSelf: \"center\",\n    textAlign: \"center\",\n  },\n  ageLocation: {\n    display: \"flex\",\n    justifyContent: \"space-around\",\n  },\n  avatarPic: {\n    height: \"160px\",\n    width: \"160px\",\n  },\n  friendButton: {\n    alignSelf: \"center\",\n  },\n});\n\nconst UserCard = (props) => {\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n\n  const handleEditProfileOpen = () => {\n    setOpen(true);\n  };\n\n  const handleEditProfileClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <Container maxWidth=\"md\">\n      <Card elevation={10} className={classes.userCard}>\n        <Avatar\n          className={classes.avatarPic}\n          variant=\"rounded\"\n          src={props.profilePic}\n          alt={`${props.firstName} ${props.lastName}`}\n        />\n        <Box className={classes.infoBox}>\n          <Box className={classes.fullName}>\n            <Typography variant=\"h6\">\n              {props.firstName} {props.lastName}\n            </Typography>\n          </Box>\n          <Box\n            margin=\"auto\"\n            onClick={() => props.setRefreshInfo(props.refreshInfo + 1)}\n            className={classes.friendButton}\n          >\n            <FriendButton\n              authUser={props.authUser}\n              profileUser={props.profileUser}\n              current={props.friendsCurrent}\n              pendIn={props.friendsPendIn}\n              pendOut={props.friendsPendOut}\n            />\n          </Box>\n          {props.age && props.city && props.state ? (\n            <Box className={classes.ageLocation}>\n              <Typography variant=\"subtitle\">\n                {props.age}\n                <CakeIcon />\n              </Typography>\n              <Typography>\n                {props.city}, {props.state}\n                <RoomIcon />\n              </Typography>\n            </Box>\n          ) : null}\n          {props.authUser === props.profileUser ? (\n            <Box margin=\"auto\">\n              <Button\n                onClick={() => handleEditProfileOpen()}\n                variant=\"contained\"\n              >\n                Edit Profile\n              </Button>\n              <Dialog open={open} onClose={handleEditProfileClose}>\n                <EditProfileDialog\n                  currAge={props.age}\n                  currCity={props.city}\n                  currState={props.state}\n                  handleClose={handleEditProfileClose}\n                  setRefreshInfo={props.setRefreshInfo}\n                  refreshInfo={props.refreshInfo}\n                />\n              </Dialog>\n            </Box>\n          ) : null}\n        </Box>\n      </Card>\n    </Container>\n  );\n};\n\nexport default UserCard;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { Container, Box, Typography } from \"@material-ui/core\";\nimport Timeline from \"../../shared/timeline\";\nimport UserCard from \"./components/userCard\";\nimport { AccessContext } from \"../../../Context/AccessContext\";\nimport { UserContext } from \"../../../Context/UserContext\";\n\nexport default function ProfileComponent() {\n  let { userurl } = useParams();\n\n  const { accessToken } = useContext(AccessContext);\n  const { user } = useContext(UserContext);\n  const [profileInfo, setProfileInfo] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [refreshInfo, setRefreshInfo] = useState(0);\n  const [deletedPosts, setDeletedPosts] = useState([]);\n  const [likes, setLikes] = useState([]);\n  const authId = user._id;\n\n  useEffect(() => {\n    //define the fetch request (returns a Promise/Response) as 'response'\n    async function getProfileInfo(url) {\n      const response = await fetch(url, {\n        method: \"GET\",\n        mode: \"cors\",\n        credentials: \"include\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${accessToken}`,\n        },\n      });\n      //call response, then, handle promise resolve/rejection\n      response\n        .json()\n        .then((res) => {\n          setProfileInfo(res.result[0]);\n          setIsLoading(false);\n        })\n        .catch((err) => {\n          console.error(err);\n        });\n    }\n\n    getProfileInfo(\n      `https://bookymcbookface.herokuapp.com/users/find/${userurl}`\n    );\n    //useEffect dependencies\n  }, [userurl, accessToken, refreshInfo, deletedPosts, likes]);\n\n  if (profileInfo === undefined) {\n    return <Typography>Not found...</Typography>;\n  }\n\n  if (isLoading) {\n    return <Typography>Loading...</Typography>;\n  }\n\n  return (\n    <Container disableGutters maxWidth=\"xl\">\n      <UserCard\n        age={profileInfo.age}\n        firstName={profileInfo.first_name}\n        lastName={profileInfo.last_name}\n        city={profileInfo.city}\n        state={profileInfo.state}\n        profilePic={profileInfo.profileImgUrl}\n        // friendButton props\n        friendsCurrent={profileInfo.friends.current}\n        friendsPendIn={profileInfo.friends.pendIn}\n        friendsPendOut={profileInfo.friends.pendOut}\n        profileUser={profileInfo._id}\n        setRefreshInfo={setRefreshInfo}\n        refreshInfo={refreshInfo}\n        authUser={authId}\n      />\n      {/* if not friends, hide timeline.-----> { profileInfo.friends.current.includes(user._id) || profileInfo._id === user._id ? <Timeline />: null*/}\n      <Box>\n        <Timeline\n          profilePic={profileInfo.profileImgUrl}\n          posts={profileInfo.posts.map((post) => post)}\n          firstName={profileInfo.first_name}\n          lastName={profileInfo.last_name}\n          userId={profileInfo._id}\n          deletedPosts={deletedPosts}\n          setDeletedPosts={setDeletedPosts}\n          userurl={profileInfo.userurl}\n          likes={likes}\n          setLikes={setLikes}\n          refreshInfo={refreshInfo}\n          setRefreshInfo={setRefreshInfo}\n        />\n      </Box>\n    </Container>\n  );\n}\n","import React from \"react\";\nimport {\n  Card,\n  Avatar,\n  makeStyles,\n  Typography,\n  Box,\n} from \"@material-ui/core\";\nimport FriendButton from \"../../../shared/friendButton\";\nimport { useHistory } from \"react-router-dom\";\n//create css for this component\nconst useStyles = makeStyles({\n  cardStyles: {\n    height: \"15rem\",\n    width: \"15rem\",\n  },\n\n  avatarPic: {\n    height: \"125px\",\n    width: \"125px\",\n    margin: \"1rem auto\",\n    cursor: \"pointer\",\n  },\n\n  friendButton: {\n    margin: \"auto\",\n    textAlign: \"center\"\n  }\n});\n\nconst UserIndexCard = (props) => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  return (\n    <Card className={classes.cardStyles}>\n      <Box onClick={() => history.push(`/profile/${props.profileUrl}`)}>\n      <Avatar src={props.profilePic} className={classes.avatarPic} />\n      </Box>\n      <Typography align=\"center\">{`${props.first_name} ${props.last_name}`}</Typography>\n      <Box className={classes.friendButton} onClick={() => props.setPageUpdates(props.pageUpdates + 1)}>\n        <FriendButton\n          authUser={props.authUser}\n          profileUser={props.profileUser}\n          current={props.friendsCurrent}\n          pendIn={props.friendsPendIn}\n          pendOut={props.friendsPendOut}\n        />\n      </Box>\n    </Card>\n  );\n};\n\nexport default UserIndexCard;\n","import React, { useEffect, useContext, useState } from \"react\";\nimport { makeStyles, Grid, Typography } from \"@material-ui/core\";\n\nimport { UserContext } from \"../../../Context/UserContext\";\nimport { AccessContext } from \"../../../Context/AccessContext\";\nimport UserIndexCard from \"./components/UserIndexCard\";\n//create css for this component\nconst useStyles = makeStyles({\n  UserIndexContainer: {},\n});\n\nconst UserIndex = () => {\n  const { user } = useContext(UserContext);\n  const { accessToken } = useContext(AccessContext);\n  const [users, setUsers] = useState([]);\n  const [pageUpdates, setPageUpdates] = useState(0);\n  const classes = useStyles();\n\n  useEffect(() => {\n    const getAllUsers = async () => {\n      //define the fetch request (returns a Promise/Response) as 'response'\n      const response = await fetch(\n        \"https://bookymcbookface.herokuapp.com/users\",\n        {\n          method: \"GET\",\n          mode: \"cors\",\n          credentials: \"include\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${accessToken}`,\n          },\n        }\n      );\n      //call response, then, handle promise resolve/rejection\n      response\n        .json()\n        .then((res) => {\n          setUsers(res);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    };\n    //Call getAllUsers() everytime useEffect is triggered\n    getAllUsers();\n  }, [accessToken, pageUpdates]);\n\n  if (users.length !== 0) {\n    return (\n      <Grid\n        sm=\"12\"\n        spacing=\"5\"\n        justify=\"center\"\n        container\n        className={classes.UserIndexContainer}\n      >\n        {/* Create a card for every user that isn't the authenticated user */}\n        {users.map((selected) => {\n          if (selected._id !== user._id) {\n            return (\n              <Grid item>\n                <UserIndexCard\n                  first_name={selected.first_name}\n                  last_name={selected.last_name}\n                  pageUpdates={pageUpdates}\n                  setPageUpdates={setPageUpdates}\n                  authUser={user._id}\n                  profileUser={selected._id}\n                  profilePic={selected.profileImgUrl}\n                  friendsCurrent={selected.friends.current}\n                  friendsPendOut={selected.friends.pendOut}\n                  friendsPendIn={selected.friends.pendIn}\n                  profileUrl={selected.userurl}\n                />\n              </Grid>\n            );\n          }\n          return null;\n        })}\n      </Grid>\n    );\n  }\n  return (\n    <Grid\n      sm=\"12\"\n      spacing=\"5\"\n      justify=\"center\"\n      container\n      className={classes.UserIndexContainer}\n    >\n      <Grid item>\n        <Typography variant=\"h4\">{\"Loading..\"}</Typography>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default UserIndex;\n","import React, { useState, useEffect } from \"react\";\nimport { Route, Switch, Redirect } from \"react-router-dom\";\n\nimport \"./App.css\";\n\nimport AuthLanding from \"./Components/Pages/Landing/AuthLanding\";\nimport Layout from \"./Components/shared/Layout\";\nimport DashboardComponent from \"./Components/Pages/Dashboard/dashboard\";\nimport ProfileComponent from \"./Components/Pages/Profile/Profile\";\n\nimport { UserContext } from \"./Context/UserContext\";\nimport { AccessContext } from \"./Context/AccessContext\";\nimport { Typography } from \"@material-ui/core\";\nimport UserIndex from \"./Components/Pages/UserIndex/UserIndex\";\n\nconst App = () => {\n  const [user, setUser] = useState(null);\n  const [accessToken, setAccessToken] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n//runs on component load or when there are changes to dependencies\n  useEffect(() => {\n    //define the fetch request (returns a Promise/Response) as 'response'\n    async function checkLoggedIn() {\n      const response = await fetch(\"https://bookface-auth.herokuapp.com/userauth/curruser\", {\n        method: \"POST\",\n        mode: \"cors\",\n        credentials: \"include\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      });\n      //call response, then, handle promise resolve/rejection\n      response.json().then((data) => {\n        let currUser = data.user;\n        console.log(currUser);\n        setUser(currUser);\n        setAccessToken(data.token);\n        setIsLoading(false);\n      });\n    }\n    if (!document.cookie.includes(\"loggedIn=true\")) {\n      setIsLoading(false);\n    } else if (user == null) {\n      checkLoggedIn();\n    }\n  }, [user]);\n\n  if (isLoading) {\n    return <Typography>Loading...</Typography>;\n  }\n  return (\n    <UserContext.Provider value={{ user, setUser }}>\n      <AccessContext.Provider value={{ accessToken, setAccessToken }}>\n        <Layout />\n        {/* both defined? */}\n        {user && accessToken ? (\n          <Switch>\n            <Route\n              path=\"/auth\"\n              render={() => <h1>You're already logged in</h1>}\n            />\n            <Route path=\"/logout\" render={() => <h1>Logout route works</h1>} />\n            <Route\n              path=\"/profile/:userurl\"\n              exact\n              children={<ProfileComponent />}\n            />\n            <Route path=\"/dashboard\" children={<DashboardComponent />} />\n            <Route path=\"/userIndex\" children={<UserIndex />} />\n            <Route path=\"/\" exact render={() => <Redirect to=\"/dashboard\" />} />\n            <Route path=\"*\" render={() => <h1>404 Not Found</h1>} />\n          </Switch>\n        ) : (\n          //if not defined\n          <Switch>\n            <Route path=\"/\" children={<AuthLanding />} />\n            <Redirect to=\"/\" />\n          </Switch>\n        )}\n      </AccessContext.Provider>\n    </UserContext.Provider>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { BrowserRouter } from \"react-router-dom\";\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}